{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dan__/quest-items-showcase/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dan__/quest-items-showcase/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var API_URL='http://localhost:5000/api/auth';export var loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,password){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(API_URL,\"/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(!response.ok){_context.next=10;break;}localStorage.setItem('token',data.token);_context.next=11;break;case 10:throw new Error(data.message);case 11:return _context.abrupt(\"return\",data.user);case 12:case\"end\":return _context.stop();}},_callee);}));return function loginUser(_x,_x2){return _ref.apply(this,arguments);};}();export var registerUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(email,password,username){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(API_URL,\"/register\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password,username:username})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;if(!response.ok){_context2.next=10;break;}localStorage.setItem('token',data.token);_context2.next=11;break;case 10:throw new Error(data.message);case 11:return _context2.abrupt(\"return\",data.user);case 12:case\"end\":return _context2.stop();}},_callee2);}));return function registerUser(_x3,_x4,_x5){return _ref2.apply(this,arguments);};}();export var getUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var token,response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:token=localStorage.getItem('token');if(token){_context3.next=3;break;}return _context3.abrupt(\"return\",null);case 3:_context3.next=5;return fetch(\"\".concat(API_URL,\"/user\"),{headers:{Authorization:\"Bearer \".concat(token)}});case 5:response=_context3.sent;if(response.ok){_context3.next=9;break;}localStorage.removeItem('token');return _context3.abrupt(\"return\",null);case 9:_context3.next=11;return response.json();case 11:data=_context3.sent;return _context3.abrupt(\"return\",data.user);case 13:case\"end\":return _context3.stop();}},_callee3);}));return function getUser(){return _ref3.apply(this,arguments);};}();export var logoutUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:localStorage.removeItem('token');case 1:case\"end\":return _context4.stop();}},_callee4);}));return function logoutUser(){return _ref4.apply(this,arguments);};}();","map":{"version":3,"names":["API_URL","loginUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","password","response","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","body","JSON","stringify","sent","json","ok","localStorage","setItem","token","Error","message","abrupt","user","stop","_x","_x2","apply","arguments","registerUser","_ref2","_callee2","username","_callee2$","_context2","_x3","_x4","_x5","getUser","_ref3","_callee3","_callee3$","_context3","getItem","Authorization","removeItem","logoutUser","_ref4","_callee4","_callee4$","_context4"],"sources":["C:/Users/dan__/quest-items-showcase/frontend/src/services/auth.js"],"sourcesContent":["const API_URL = 'http://localhost:5000/api/auth';\r\n\r\nexport const loginUser = async (email, password) => {\r\n  const response = await fetch(`${API_URL}/login`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ email, password }),\r\n  });\r\n\r\n  const data = await response.json();\r\n  if (response.ok) {\r\n    localStorage.setItem('token', data.token);\r\n  } else {\r\n    throw new Error(data.message);\r\n  }\r\n\r\n  return data.user;\r\n};\r\n\r\nexport const registerUser = async (email, password, username) => {\r\n  const response = await fetch(`${API_URL}/register`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ email, password, username }),\r\n  });\r\n\r\n  const data = await response.json();\r\n  if (response.ok) {\r\n    localStorage.setItem('token', data.token);\r\n  } else {\r\n    throw new Error(data.message);\r\n  }\r\n\r\n  return data.user;\r\n};\r\n\r\nexport const getUser = async () => {\r\n  const token = localStorage.getItem('token');\r\n  if (!token) {\r\n    return null;\r\n  }\r\n\r\n  const response = await fetch(`${API_URL}/user`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\n  if (!response.ok) {\r\n    localStorage.removeItem('token');\r\n    return null;\r\n  }\r\n\r\n  const data = await response.json();\r\n  return data.user;\r\n};\r\n\r\nexport const logoutUser = async () => {\r\n  localStorage.removeItem('token');\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
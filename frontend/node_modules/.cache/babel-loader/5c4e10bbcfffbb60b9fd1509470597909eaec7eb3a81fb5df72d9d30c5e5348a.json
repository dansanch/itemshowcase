{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dan__\\\\quest-items-showcase\\\\frontend\\\\src\\\\components\\\\ItemDetailsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { fetchItem, deleteItem, updateItem } from '../services/api';\nimport { AuthContext } from '../contexts/AuthContext';\nimport AdminItemForm from './AdminItemForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ItemDetailsPage = () => {\n  _s();\n  const [item, setItem] = useState(null);\n  const [editing, setEditing] = useState(false);\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const getItem = async () => {\n      const data = await fetchItem(id);\n      setItem(data);\n    };\n    getItem();\n  }, [id]);\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this item?')) {\n      try {\n        await deleteItem(id);\n        navigate('/path');\n      } catch (error) {\n        alert('Failed to delete item');\n      }\n    }\n  };\n  const handleUpdate = async updatedItem => {\n    try {\n      await updateItem(id, updatedItem);\n      setItem({\n        ...item,\n        ...updatedItem\n      });\n      setEditing(false);\n    } catch (error) {\n      alert('Failed to update item');\n    }\n  };\n  if (!item) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: item.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: item.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: item.imageUrl,\n      alt: item.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Rarity: \", item.rarity]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), user && user.role === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: !editing && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setEditing(true),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false), editing && /*#__PURE__*/_jsxDEV(AdminItemForm, {\n      item: item,\n      onSubmit: handleUpdate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(ItemDetailsPage, \"Ictntv7b7kZoOAE3sCfvU2KPGTU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ItemDetailsPage;\nexport default ItemDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"ItemDetailsPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","fetchItem","deleteItem","updateItem","AuthContext","AdminItemForm","jsxDEV","_jsxDEV","Fragment","_Fragment","ItemDetailsPage","_s","item","setItem","editing","setEditing","id","user","navigate","getItem","data","handleDelete","window","confirm","error","alert","handleUpdate","updatedItem","children","fileName","_jsxFileName","lineNumber","columnNumber","name","description","src","imageUrl","alt","rarity","role","onClick","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/dan__/quest-items-showcase/frontend/src/components/ItemDetailsPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { fetchItem, deleteItem, updateItem } from '../services/api';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport AdminItemForm from './AdminItemForm';\r\n\r\nconst ItemDetailsPage = () => {\r\n  const [item, setItem] = useState(null);\r\n  const [editing, setEditing] = useState(false);\r\n  const { id } = useParams();\r\n  const { user } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const getItem = async () => {\r\n      const data = await fetchItem(id);\r\n      setItem(data);\r\n    };\r\n\r\n    getItem();\r\n  }, [id]);\r\n\r\n  const handleDelete = async () => {\r\n    if (window.confirm('Are you sure you want to delete this item?')) {\r\n      try {\r\n        await deleteItem(id);\r\n        navigate('/path');\r\n      } catch (error) {\r\n        alert('Failed to delete item');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (updatedItem) => {\r\n    try {\r\n      await updateItem(id, updatedItem);\r\n      setItem({ ...item, ...updatedItem });\r\n      setEditing(false);\r\n    } catch (error) {\r\n      alert('Failed to update item');\r\n    }\r\n  };\r\n\r\n  if (!item) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>{item.name}</h1>\r\n      <p>{item.description}</p>\r\n      <img src={item.imageUrl} alt={item.name} />\r\n      <p>Rarity: {item.rarity}</p>\r\n      {user && user.role === 'admin' && (\r\n        <>\r\n          {!editing && (\r\n            <>\r\n              <button onClick={() => setEditing(true)}>Edit</button>\r\n              <button onClick={handleDelete}>Delete</button>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n      {editing && <AdminItemForm item={item} onSubmit={handleUpdate} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemDetailsPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,SAAS,EAAEC,UAAU,EAAEC,UAAU,QAAQ,iBAAiB;AACnE,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,aAAa,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE5C,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM;IAAEoB;EAAG,CAAC,GAAGjB,SAAS,EAAE;EAC1B,MAAM;IAAEkB;EAAK,CAAC,GAAGnB,UAAU,CAACM,WAAW,CAAC;EACxC,MAAMc,QAAQ,GAAGlB,WAAW,EAAE;EAE9BH,SAAS,CAAC,MAAM;IACd,MAAMsB,OAAO,GAAG,MAAAA,CAAA,KAAY;MAC1B,MAAMC,IAAI,GAAG,MAAMnB,SAAS,CAACe,EAAE,CAAC;MAChCH,OAAO,CAACO,IAAI,CAAC;IACf,CAAC;IAEDD,OAAO,EAAE;EACX,CAAC,EAAE,CAACH,EAAE,CAAC,CAAC;EAER,MAAMK,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAIC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,EAAE;MAChE,IAAI;QACF,MAAMrB,UAAU,CAACc,EAAE,CAAC;QACpBE,QAAQ,CAAC,OAAO,CAAC;MACnB,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,KAAK,CAAC,uBAAuB,CAAC;MAChC;IACF;EACF,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,WAAW,IAAK;IAC1C,IAAI;MACF,MAAMxB,UAAU,CAACa,EAAE,EAAEW,WAAW,CAAC;MACjCd,OAAO,CAAC;QAAE,GAAGD,IAAI;QAAE,GAAGe;MAAY,CAAC,CAAC;MACpCZ,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,KAAK,CAAC,uBAAuB,CAAC;IAChC;EACF,CAAC;EAED,IAAI,CAACb,IAAI,EAAE;IACT,oBAAOL,OAAA;MAAAqB,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM;EAC9B;EAEA,oBACEzB,OAAA;IAAAqB,QAAA,gBACErB,OAAA;MAAAqB,QAAA,EAAKhB,IAAI,CAACqB;IAAI;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM,eACpBzB,OAAA;MAAAqB,QAAA,EAAIhB,IAAI,CAACsB;IAAW;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eACzBzB,OAAA;MAAK4B,GAAG,EAAEvB,IAAI,CAACwB,QAAS;MAACC,GAAG,EAAEzB,IAAI,CAACqB;IAAK;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eAC3CzB,OAAA;MAAAqB,QAAA,GAAG,UAAQ,EAAChB,IAAI,CAAC0B,MAAM;IAAA;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,EAC3Bf,IAAI,IAAIA,IAAI,CAACsB,IAAI,KAAK,OAAO,iBAC5BhC,OAAA,CAAAE,SAAA;MAAAmB,QAAA,EACG,CAACd,OAAO,iBACPP,OAAA,CAAAE,SAAA;QAAAmB,QAAA,gBACErB,OAAA;UAAQiC,OAAO,EAAEA,CAAA,KAAMzB,UAAU,CAAC,IAAI,CAAE;UAAAa,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACtDzB,OAAA;UAAQiC,OAAO,EAAEnB,YAAa;UAAAO,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS;MAAA;IAEjD,iBAEJ,EACAlB,OAAO,iBAAIP,OAAA,CAACF,aAAa;MAACO,IAAI,EAAEA,IAAK;MAAC6B,QAAQ,EAAEf;IAAa;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAC7D;AAEV,CAAC;AAACrB,EAAA,CA5DID,eAAe;EAAA,QAGJX,SAAS,EAEPC,WAAW;AAAA;AAAA0C,EAAA,GALxBhC,eAAe;AA8DrB,eAAeA,eAAe;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
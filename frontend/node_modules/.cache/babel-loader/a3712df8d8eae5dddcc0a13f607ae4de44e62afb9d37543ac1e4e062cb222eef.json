{"ast":null,"code":"import _toConsumableArray from\"C:/Users/dan__/quest-items-showcase/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/dan__/quest-items-showcase/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dan__/quest-items-showcase/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/dan__/quest-items-showcase/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{fetchItems,createItem}from'../services/api';import{AuthContext}from'../contexts/AuthContext';import ItemCard from'./ItemCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemsPage=function ItemsPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useContext=useContext(AuthContext),user=_useContext.user;useEffect(function(){var getItems=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetchItems();case 2:data=_context.sent;setItems(data);case 4:case\"end\":return _context.stop();}},_callee);}));return function getItems(){return _ref.apply(this,arguments);};}();getItems();},[]);var handleNewItem=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var newItem,createdItem;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:newItem={name:'New Item',description:'Description',imageUrl:'https://via.placeholder.com/150',rarity:'Common'};_context2.next=3;return createItem(newItem);case 3:createdItem=_context2.sent;setItems([].concat(_toConsumableArray(items),[createdItem]));case 5:case\"end\":return _context2.stop();}},_callee2);}));return function handleNewItem(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Items\"}),user&&user.role==='admin'&&/*#__PURE__*/_jsx(\"button\",{onClick:handleNewItem,children:\"Create New Item\"}),/*#__PURE__*/_jsx(\"div\",{children:items.map(function(item){return/*#__PURE__*/_jsx(ItemCard,{item:item},item._id);})})]});};export default ItemsPage;","map":{"version":3,"names":["React","useState","useEffect","useContext","fetchItems","createItem","AuthContext","ItemCard","jsx","_jsx","jsxs","_jsxs","ItemsPage","_useState","_useState2","_slicedToArray","items","setItems","_useContext","user","getItems","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","handleNewItem","_ref2","_callee2","newItem","createdItem","_callee2$","_context2","name","description","imageUrl","rarity","concat","_toConsumableArray","children","role","onClick","map","item","_id"],"sources":["C:/Users/dan__/quest-items-showcase/frontend/src/components/ItemsPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { fetchItems, createItem } from '../services/api';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport ItemCard from './ItemCard';\r\n\r\nconst ItemsPage = () => {\r\n  const [items, setItems] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    const getItems = async () => {\r\n      const data = await fetchItems();\r\n      setItems(data);\r\n    };\r\n\r\n    getItems();\r\n  }, []);\r\n\r\n  const handleNewItem = async () => {\r\n    const newItem = {\r\n      name: 'New Item',\r\n      description: 'Description',\r\n      imageUrl: 'https://via.placeholder.com/150',\r\n      rarity: 'Common',\r\n    };\r\n\r\n    const createdItem = await createItem(newItem);\r\n    setItems([...items, createdItem]);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Items</h1>\r\n      {user && user.role === 'admin' && (\r\n        <button onClick={handleNewItem}>Create New Item</button>\r\n      )}\r\n      <div>\r\n        {items.map((item) => (\r\n          <ItemCard key={item._id} item={item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemsPage;\r\n"],"mappings":"giBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,OAASC,UAAU,CAAEC,UAAU,KAAQ,iBAAiB,CACxD,OAASC,WAAW,KAAQ,yBAAyB,CACrD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,IAAAC,SAAA,CAA0BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,WAAA,CAAiBf,UAAU,CAACG,WAAW,CAAC,CAAhCa,IAAI,CAAAD,WAAA,CAAJC,IAAI,CAEZjB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAkB,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,IAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACI,CAAA3B,UAAU,EAAE,QAAzBsB,IAAI,CAAAG,QAAA,CAAAG,IAAA,CACVf,QAAQ,CAACS,IAAI,CAAC,CAAC,wBAAAG,QAAA,CAAAI,IAAA,MAAAR,OAAA,GAChB,kBAHK,CAAAL,QAAQA,CAAA,SAAAC,IAAA,CAAAa,KAAA,MAAAC,SAAA,OAGb,CAEDf,QAAQ,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAgB,aAAa,6BAAAC,KAAA,CAAAf,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAc,SAAA,MAAAC,OAAA,CAAAC,WAAA,QAAAjB,mBAAA,GAAAI,IAAA,UAAAc,UAAAC,SAAA,iBAAAA,SAAA,CAAAZ,IAAA,CAAAY,SAAA,CAAAX,IAAA,SACdQ,OAAO,CAAG,CACdI,IAAI,CAAE,UAAU,CAChBC,WAAW,CAAE,aAAa,CAC1BC,QAAQ,CAAE,iCAAiC,CAC3CC,MAAM,CAAE,QACV,CAAC,CAAAJ,SAAA,CAAAX,IAAA,SAEyB,CAAA1B,UAAU,CAACkC,OAAO,CAAC,QAAvCC,WAAW,CAAAE,SAAA,CAAAV,IAAA,CACjBf,QAAQ,IAAA8B,MAAA,CAAAC,kBAAA,CAAKhC,KAAK,GAAEwB,WAAW,GAAE,CAAC,wBAAAE,SAAA,CAAAT,IAAA,MAAAK,QAAA,GACnC,kBAVK,CAAAF,aAAaA,CAAA,SAAAC,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAUlB,CAED,mBACExB,KAAA,QAAAsC,QAAA,eACExC,IAAA,OAAAwC,QAAA,CAAI,OAAK,EAAK,CACb9B,IAAI,EAAIA,IAAI,CAAC+B,IAAI,GAAK,OAAO,eAC5BzC,IAAA,WAAQ0C,OAAO,CAAEf,aAAc,CAAAa,QAAA,CAAC,iBAAe,EAChD,cACDxC,IAAA,QAAAwC,QAAA,CACGjC,KAAK,CAACoC,GAAG,CAAC,SAACC,IAAI,qBACd5C,IAAA,CAACF,QAAQ,EAAgB8C,IAAI,CAAEA,IAAK,EAArBA,IAAI,CAACC,GAAG,CAAgB,EACxC,CAAC,EACE,GACF,CAEV,CAAC,CAED,cAAe,CAAA1C,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}